import{_ as e,X as t,Y as o,Z as a,$ as n,a0 as i,a2 as p,H as l}from"./framework-c1ee72d8.js";const c={},r=a("p",null,[n("You can block actions from users using "),a("strong",null,"Authorizations"),n(".")],-1),u=a("code",null,"ZCL_ABAPGIT_AUTH_EXIT",-1),d=a("code",null,"ZIF_ABAPGIT_AUTH",-1),k=a("code",null,"ZABAPGIT_AUTHORIZATIONS_EXIT",-1),_={href:"https://github.com/abapGit/abapGit/blob/main/src/zabapgit.prog.abap#L40",title:"Link to source code include location",target:"_blank",rel:"noopener noreferrer"},m=p(`<p><strong>Note:</strong> If you are using the abapGit development version, do not create the class in the abapGit package.</p><p>The interface <code>ZIF_ABAPGIT_AUTH</code> has a constant with all the possible authorizations. Such as:</p><ul><li>uninstall</li><li>transport_to_branch</li><li>update_local_checksum</li></ul><h3 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h3><p>Suppose you want to limit the uninstalling of packages to a user named Admin. Your code could look like:</p><div class="language-abap line-numbers-mode" data-ext="abap"><pre class="language-abap"><code><span class="token comment">*&amp;---------------------------------------------------------------------*</span>
<span class="token comment">*&amp;  Include  zabapgit_authorizations_exit</span>
<span class="token comment">*&amp;---------------------------------------------------------------------*</span>
<span class="token keyword">CLASS</span> zcl_abapgit_auth_exit <span class="token keyword">DEFINITION</span>
 <span class="token keyword">CREATE</span> <span class="token keyword">PUBLIC</span><span class="token punctuation">.</span>

  <span class="token keyword">PUBLIC</span> <span class="token keyword">SECTION</span><span class="token punctuation">.</span>
    <span class="token keyword">INTERFACES</span> zif_abapgit_auth<span class="token punctuation">.</span>
  <span class="token keyword">PROTECTED</span> <span class="token keyword">SECTION</span><span class="token punctuation">.</span>
  <span class="token keyword">PRIVATE</span> <span class="token keyword">SECTION</span><span class="token punctuation">.</span>
<span class="token keyword">ENDCLASS</span><span class="token punctuation">.</span>

<span class="token keyword">CLASS</span> zcl_abapgit_auth_exit <span class="token keyword">IMPLEMENTATION</span><span class="token punctuation">.</span>
  <span class="token keyword">METHOD</span> zif_abapgit_auth<span class="token token-operator punctuation">~</span>is_allowed<span class="token punctuation">.</span>
    <span class="token keyword">IF</span> iv_authorization <span class="token operator">=</span> zif_abapgit_auth<span class="token token-operator punctuation">~</span>gc_authorization<span class="token token-operator punctuation">-</span>uninstall<span class="token punctuation">.</span>
      <span class="token keyword">IF</span> sy<span class="token token-operator punctuation">-</span>uname <span class="token operator">=</span> <span class="token string">&#39;ADMIN&#39;</span><span class="token punctuation">.</span>
        rv_allowed <span class="token operator">=</span> abap_true<span class="token punctuation">.</span>
      <span class="token keyword">ELSE</span><span class="token punctuation">.</span>
        rv_allowed <span class="token operator">=</span> abap_false<span class="token punctuation">.</span>
      <span class="token keyword">ENDIF</span><span class="token punctuation">.</span>
    <span class="token keyword">ENDIF</span><span class="token punctuation">.</span>
  <span class="token keyword">ENDMETHOD</span><span class="token punctuation">.</span>
<span class="token keyword">ENDCLASS</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function v(b,h){const s=l("ExternalLinkIcon");return t(),o("div",null,[r,a("p",null,[n("You need to create a class named "),u,n(" implementing interface "),d,n(", and put inside include "),k,n(),a("a",_,[n("ยน"),i(s)]),n(" .")]),m])}const E=e(c,[["render",v],["__file","authorizations.html.vue"]]);export{E as default};
