import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r,o as n,c as d,a as t,b as e,d as s,e as o}from"./app-e8787c24.js";const l="/img/deployment_diff_difference_sample.png",c={},h=o(`<p>abapGit contains predefined user exits which can be used to modify the standard behavior.</p><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h2><p>If the standalone version is installed, create include <code>ZABAPGIT_USER_EXIT</code> and add local class <code>ZCL_ABAPGIT_USER_EXIT</code> implementing <code>ZIF_ABAPGIT_EXIT</code>.</p><p>If the development version is installed create global class <code>ZCL_ABAPGIT_USER_EXIT</code> implementing <code>ZIF_ABAPGIT_EXIT</code>.</p><p>To support both versions with the same code, proceed as follows:</p><ol><li>Implement <code>ZCL_ABAPGIT_USER_EXIT</code> as global class and test with the developer version.</li><li>Cut &amp; paste complete code of <code>ZCL_ABAPGIT_USER_EXIT</code> into include <code>ZABAPGIT_USER_EXIT</code> and change the beginning to a local class.</li></ol><div class="language-abap line-numbers-mode" data-ext="abap"><pre class="language-abap"><code><span class="token keyword">CLASS</span> zcl_abapgit_user_exit <span class="token keyword">DEFINITION</span>
  <span class="token keyword">FINAL</span>
  <span class="token keyword">CREATE</span> <span class="token keyword">PUBLIC</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Activate the include.</li></ol><p>In either cases, add the object in a package different from the main abapGit code.</p><p>The list of user exits can change at any time, make sure to syntax check user exits after updating abapGit.</p><h2 id="exits" tabindex="-1"><a class="header-anchor" href="#exits" aria-hidden="true">#</a> Exits</h2><h3 id="adjust-display-commit-url" tabindex="-1"><a class="header-anchor" href="#adjust-display-commit-url" aria-hidden="true">#</a> ADJUST_DISPLAY_COMMIT_URL</h3><p>Can be used to set the URL to display a commit. There are default implementations for some providers:</p><table><thead><tr><th>Provider</th><th>Repo URL</th><th>Show Commit URL</th></tr></thead><tbody><tr><td>github</td><td><code>http(s)://github.com/&lt;user&gt;/&lt;repo&gt;.git</code></td><td><code>http(s)://github.com/&lt;user&gt;/&lt;repo&gt;/commit/&lt;sha1&gt;</code></td></tr><tr><td>bitbucket</td><td><code>http(s)://bitbucket.org/&lt;user&gt;/&lt;repo&gt;.git</code></td><td><code>http(s)://bitbucket.org/&lt;user&gt;/&lt;repo&gt;/commits/&lt;sha1&gt;</code></td></tr><tr><td>gitlab</td><td><code>http(s)://gitlab.com/&lt;user&gt;/&lt;repo&gt;.git</code></td><td><code>http(s)://gitlab.com/&lt;user&gt;/&lt;repo&gt;/-/commit/&lt;sha1&gt;</code></td></tr></tbody></table><h3 id="adjust-display-filename" tabindex="-1"><a class="header-anchor" href="#adjust-display-filename" aria-hidden="true">#</a> ADJUST_DISPLAY_FILENAME</h3>`,15),p={href:"https://github.com/abapGit/abapGit/issues/5185",target:"_blank",rel:"noopener noreferrer"},u=o('<h3 id="allow-sap-objects" tabindex="-1"><a class="header-anchor" href="#allow-sap-objects" aria-hidden="true">#</a> ALLOW_SAP_OBJECTS</h3><p>Force allowing serialization of SAP objects.</p><h3 id="change-local-host" tabindex="-1"><a class="header-anchor" href="#change-local-host" aria-hidden="true">#</a> CHANGE_LOCAL_HOST</h3><p>If the hostnames are not properly configured, this exit can be used to modify the settings.<br> This is especially useful when running abapGitServer on the local system.</p><h3 id="change-proxy-authentication" tabindex="-1"><a class="header-anchor" href="#change-proxy-authentication" aria-hidden="true">#</a> CHANGE_PROXY_AUTHENTICATION</h3><p>Determine based on the repository URL if authentication is required when accessing the proxy.</p><h3 id="change-proxy-port" tabindex="-1"><a class="header-anchor" href="#change-proxy-port" aria-hidden="true">#</a> CHANGE_PROXY_PORT</h3><p>Determine the proxy port from the repository URL.</p><h3 id="change-proxy-url" tabindex="-1"><a class="header-anchor" href="#change-proxy-url" aria-hidden="true">#</a> CHANGE_PROXY_URL</h3><p>Determine the proxy URL from the repository URL.</p><h3 id="change-supported-data-objects" tabindex="-1"><a class="header-anchor" href="#change-supported-data-objects" aria-hidden="true">#</a> CHANGE_SUPPORTED_DATA_OBJECTS</h3><p>Add or remove supported data objects. You can add single tables, for example <code>TABU,RSADMIN</code>, or a set of tables, for example <code>TABU,T009*</code>.</p><h3 id="change-supported-object-types" tabindex="-1"><a class="header-anchor" href="#change-supported-object-types" aria-hidden="true">#</a> CHANGE_SUPPORTED_OBJECT_TYPES</h3><p>Add or remove supported object types</p><h3 id="change-tadir" tabindex="-1"><a class="header-anchor" href="#change-tadir" aria-hidden="true">#</a> CHANGE_TADIR</h3>',15),b={href:"https://gist.github.com/larshp/cca0ce0ba65efcde5dfcae416b0484f7",target:"_blank",rel:"noopener noreferrer"},_=t("h3",{id:"create-http-client",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#create-http-client","aria-hidden":"true"},"#"),e(" CREATE_HTTP_CLIENT")],-1),f={href:"https://github.com/abapGit/abapGit/issues/1841",target:"_blank",rel:"noopener noreferrer"},g=t("h3",{id:"custom-serialize-abap-clif",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#custom-serialize-abap-clif","aria-hidden":"true"},"#"),e(" CUSTOM_SERIALIZE_ABAP_CLIF")],-1),m={href:"https://github.com/abapGit/abapGit/issues/2321",target:"_blank",rel:"noopener noreferrer"},x={href:"https://github.com/abapGit/abapGit/pull/2491",target:"_blank",rel:"noopener noreferrer"},E=t("br",null,null,-1),T={href:"https://gist.github.com/fabianlupa/999c8165b89131608b05cd371529fef5",target:"_blank",rel:"noopener noreferrer"},y={href:"https://github.com/abapGit/abapGit/pull/4953",target:"_blank",rel:"noopener noreferrer"},A=t("br",null,null,-1),I=t("code",null,"it_source",-1),v=t("code",null,"rt_source",-1),k=t("br",null,null,-1),S=t("code",null,"it_source",-1),G=t("br",null,null,-1),w=o(`<div class="language-abap line-numbers-mode" data-ext="abap"><pre class="language-abap"><code><span class="token eol-comment comment">&quot; Ignore first call of exit</span>
<span class="token keyword">IF</span> it_source <span class="token keyword">IS</span> <span class="token keyword">INITIAL</span><span class="token punctuation">.</span>
  <span class="token keyword">RETURN</span><span class="token punctuation">.</span>
<span class="token keyword">ENDIF</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="deserialize-postprocess" tabindex="-1"><a class="header-anchor" href="#deserialize-postprocess" aria-hidden="true">#</a> DESERIALIZE_POSTPROCESS</h3><p>Can be used for any postprocessing operation for deserialized objects. Since it is a postprocessing step, only logs can be added to II_LOG and one should not terminate the process by raising exception, which may lead to inconsistencies.</p><h3 id="determine-transport-request" tabindex="-1"><a class="header-anchor" href="#determine-transport-request" aria-hidden="true">#</a> DETERMINE_TRANSPORT_REQUEST</h3>`,4),C={href:"https://github.com/abapGit/abapGit/pull/5916",target:"_blank",rel:"noopener noreferrer"},R=t("h3",{id:"enhance-repo-toolbar",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#enhance-repo-toolbar","aria-hidden":"true"},"#"),e(" ENHANCE_REPO_TOOLBAR")],-1),L={href:"https://github.com/abapGit/abapGit/pull/6249",target:"_blank",rel:"noopener noreferrer"},P=t("h3",{id:"get-ci-tests",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#get-ci-tests","aria-hidden":"true"},"#"),e(" GET_CI_TESTS")],-1),N={href:"https://github.com/abapGit/abapGit/pull/3993",target:"_blank",rel:"noopener noreferrer"},O=t("h3",{id:"get-ssl-id",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#get-ssl-id","aria-hidden":"true"},"#"),e(" GET_SSL_ID")],-1),U=t("p",null,[e("Possibility to change the default "),t("code",null,"ANONYM"),e(" SSL ID to something system specific.")],-1),j=t("h3",{id:"http-client",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#http-client","aria-hidden":"true"},"#"),e(" HTTP_CLIENT")],-1),B={href:"https://gist.github.com/larshp/71609852a79aa1e877f8c4020d18feac",target:"_blank",rel:"noopener noreferrer"},D=t("h3",{id:"on-event",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#on-event","aria-hidden":"true"},"#"),e(" ON_EVENT")],-1),z={href:"https://github.com/abapGit/abapGit/issues/4722",target:"_blank",rel:"noopener noreferrer"},F=t("h3",{id:"pre-calculate-repo-status",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#pre-calculate-repo-status","aria-hidden":"true"},"#"),e(" PRE_CALCULATE_REPO_STATUS")],-1),H={href:"https://github.com/sbcgua/abapgit_xml_stripper_plugin",target:"_blank",rel:"noopener noreferrer"},X=t("figure",null,[t("img",{src:l,alt:"diff sample",tabindex:"0",loading:"lazy"}),t("figcaption",null,"diff sample")],-1),Z=t("p",null,[e("The exit also receives a repo meta data snapshot ("),t("code",null,"zif_abapgit_persistence=>ty_repo"),e(") to identify the repo and it's attributes in the current system (e.g. package). This can be used to enable/disable the exit for specific repos.")],-1),M=t("h3",{id:"serialize-postprocessing",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#serialize-postprocessing","aria-hidden":"true"},"#"),e(" SERIALIZE_POSTPROCESSING")],-1),Y={href:"https://github.com/abapGit/abapGit/issues/5194",target:"_blank",rel:"noopener noreferrer"},q=t("h3",{id:"validate-before-push",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#validate-before-push","aria-hidden":"true"},"#"),e(" VALIDATE_BEFORE_PUSH")],-1),V={href:"https://github.com/abapGit/abapGit/pull/6013",target:"_blank",rel:"noopener noreferrer"},J=t("h3",{id:"wall-message-list",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#wall-message-list","aria-hidden":"true"},"#"),e(" WALL_MESSAGE_LIST")],-1),W={href:"https://github.com/abapGit/abapGit/issues/4653",target:"_blank",rel:"noopener noreferrer"},Q=t("h3",{id:"wall-message-repo",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#wall-message-repo","aria-hidden":"true"},"#"),e(" WALL_MESSAGE_REPO")],-1),K={href:"https://github.com/abapGit/abapGit/issues/4653",target:"_blank",rel:"noopener noreferrer"};function $(ee,te){const a=r("ExternalLinkIcon");return n(),d("div",null,[h,t("p",null,[e("This exit can be used to change the path and filename displayed in the repository view (see "),t("a",p,[e("#5185"),s(a)]),e("). For example, you can implement a logic to shorten the path avoiding output of repetetive details.")]),u,t("p",null,[e("Can be used to skip certain objects, or force a different object setup than currently in TADIR ("),t("a",b,[e("Example"),s(a)]),e(").")]),_,t("p",null,[e("Store username and password in RFC connection setup (see "),t("a",f,[e("#1841"),s(a)]),e(").")]),g,t("p",null,[e("Allows for a custom serializer to be used for global classes' CLIF sources. See "),t("a",m,[e("#2321"),s(a)]),e(" and "),t("a",x,[e("#2491"),s(a)]),e(" for use cases."),E,e(" This "),t("a",T,[e("example implementation"),s(a)]),e(" forces the old class serializer to be used for specific packages.")]),t("p",null,[e("As of "),t("a",y,[e("#4953"),s(a)]),e(", the exit offers a post-processing option. First, the exit is called with the optional parameter"),A,I,e(" set to initial. If you do not return any serialization ("),v,e(" is initial), then abapGit will serialize the object as usual and call the"),k,e(" exit a second time. This time "),S,e(" contains the complete source and can be modified in the exit as required. To use this option, use following code"),G,e(" at the beginning of the exit:")]),w,t("p",null,[e("Set a transport request per repository. If set, no transport request popup appears and the transport is used for pull/delete (see "),t("a",C,[e("#5916"),s(a)]),e(").")]),R,t("p",null,[e("With this exit you can extend the toolbar with your own menu options. Currently, the exit is active for repository settings so you may define your own settings (see "),t("a",L,[e("#6249"),s(a)]),e(").")]),P,t("p",null,[e("Add your own repositories to run a complete CI cycle (clone, pull, check, delete) when executing unit tests for object serializer classes (see "),t("a",N,[e("#3993"),s(a)]),e(").")]),O,U,j,t("p",null,[e("Can be used for setting logon tickets eg. in connection with abapGitServer connections between SAP systems ("),t("a",B,[e("Example"),s(a)]),e(").")]),D,t("p",null,[e('This exit allows you to extend abapGit with new features that are not suitable for abapGit itself. For example, you can link to a new page from a wall message. Another use case is redirecting menu items to a custom page rather than standard abapGit, for example using a company-specific solution to replace "Advanced > Run Code Inspector" (see '),t("a",z,[e("#4722"),s(a)]),e(").")]),F,t("p",null,[e("Can be used to modify local and remote files before calculating diff status. Useful to remove diffs which are caused by deployment between different system version (see also "),t("a",H,[e("abapgit xml stripper plugin"),s(a)]),e(").")]),X,Z,M,t("p",null,[e("This exit is called at the end of the serialize process and gives an opportunity to change the content of the serialzed files (see "),t("a",Y,[e("#5194"),s(a)]),e(").")]),q,t("p",null,[e('Perform custom validations just before pushing into remote while being on the "Commit Message" screen (see '),t("a",V,[e("#6013"),s(a)]),e(").")]),J,t("p",null,[e("Can be used to add a message at list level (repository list, see "),t("a",W,[e("#4653"),s(a)]),e(").")]),Q,t("p",null,[e("Can be used to add a message at repo level (repository view, see "),t("a",K,[e("#4653"),s(a)]),e(").")])])}const oe=i(c,[["render",$],["__file","exits.html.vue"]]);export{oe as default};
