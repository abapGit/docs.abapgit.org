import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,b as t,d as i,e as s,f as n,a as r,r as c,o as p}from"./app-CiDQv4AS.js";const u="/img/ssl_setup_cryptolib.png",h="/img/ssl_setup_services.png",d="/img/ssl_setup_trust.png",m="/img/ssl_setup_chrome.gif",g="/img/ssl_setup_proxy.png",f={};function b(S,e){const o=c("RouteLink");return p(),l("div",null,[e[9]||(e[9]=t("h2",{id:"overview",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#overview"},[t("span",null,"Overview")])],-1)),e[10]||(e[10]=t("p",null,"In general, Git servers require secure connections. Therefore, abapGit uses secure HTTPS connections to access Git servers.",-1)),e[11]||(e[11]=t("p",null,"Note: Using unsecured HTTP connections is possible, but it is strongly discouraged since the content of your repository will become visible on the network.",-1)),e[12]||(e[12]=t("p",null,"To support HTTPS, your SAP system must be configured accordingly:",-1)),e[13]||(e[13]=t("ul",null,[t("li",null,"Enabled HTTP/HTTPS service connection in SAP system profile"),t("li",null,"Import Git server certificates into SAP trust manager"),t("li",null,"If necessary, define an HTTP Proxy Server in abapGit settings")],-1)),t("p",null,[e[1]||(e[1]=i("Note: Alternatively, connection details can be defined via ")),s(o,{to:"/user-guide/reference/exits.html#exits"},{default:n(()=>e[0]||(e[0]=[i("user exit")])),_:1}),e[2]||(e[2]=i("."))]),e[14]||(e[14]=r('<div class="hint-container warning"><p class="hint-container-title">Warning</p><p>There are usually policies in place of who is permitted to make changes to these settings in your SAP system. Please contact your SAP Basis and network team to coordinate requirements.</p></div><p>We use GitHub.com as an example for configuring secure connections. This is also required if you want to clone and contribute to abapGit itself. The setup for other Git servers is quite similar and will require different certificates.</p><h3 id="sap-crypto-library" tabindex="-1"><a class="header-anchor" href="#sap-crypto-library"><span>SAP Crypto Library</span></a></h3><p>Secure connections require the installation of the SAP Crypto Library (CommonCryptoLib 8). Since SAP NetWeaver 7.4 this library is installed with the system. However, if your system is older or not up-to-date, you might have to update the library to a more recent version.</p><div class="hint-container note"><p class="hint-container-title">Note</p><p>It&#39;s highly recommended to run a recent version of the Crypto Library to avoid known security issues. As of December 2022, the latest version is <code>8.5.47</code>.</p></div><p><a href="https://me.sap.com/softwarecenter/template/products/%20_APP=00200682500000001943&amp;_EVENT=DISPHIER&amp;HEADER=Y&amp;FUNCTIONBAR=N&amp;EVENT=TREE&amp;NE=NAVIGATE&amp;ENR=01200615320100002625&amp;V=MAINT&amp;TA=ACTUAL&amp;PAGE=SEARCH/SAPCRYPTOLIB" target="_blank" rel="noopener noreferrer">Crypto Library in SAP Download Center</a></p><p>You can find the installed version number in transaction <code>STRUST</code> &gt; Environment &gt; Display SSF Version:</p><figure><img src="'+u+`" alt="ssl_setup_cryptolib" tabindex="0" loading="lazy"><figcaption>ssl_setup_cryptolib</figcaption></figure><h3 id="sap-system-profile" tabindex="-1"><a class="header-anchor" href="#sap-system-profile"><span>SAP System Profile</span></a></h3><p>See <a href="https://me.sap.com/notes/510007" target="_blank" rel="noopener noreferrer">SAP Note 510007</a>, section 7, for detailed information on how to configure your SAP system to support SSL.</p><p>The currently recommended settings for TLS v1.2 interoperability are (requiring at least CommonCryptoLib 8.4.38, recommending at least 8.5.4):</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ssl/ciphersuites             = 135:PFS:HIGH::EC_X25519:EC_P256:EC_HIGH</span></span>
<span class="line"><span>ssl/client_ciphersuites      = 150:PFS:HIGH::EC_X25519:EC_P256:EC_HIGH</span></span>
<span class="line"><span>icm/HTTPS/client_sni_enabled = TRUE</span></span>
<span class="line"><span>ssl/client_sni_enabled       = TRUE</span></span>
<span class="line"><span></span></span>
<span class="line"><span>SETENV_26 = SECUDIR=$(DIR_INSTANCE)$(DIR_SEP)sec</span></span>
<span class="line"><span>SETENV_27 = SAPSSL_CLIENT_CIPHERSUITES=150:PFS:HIGH::EC_X25519:EC_P256:EC_HIGH</span></span>
<span class="line"><span>SETENV_28 = SAPSSL_CLIENT_SNI_ENABLED=TRUE</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To add profile parameters, use transaction <code>RZ10</code> or update the contents of file <code>DEFAULT.PFL</code> directly. A system restart might be required.</p><p>For <a href="https://go.support.sap.com/minisap/#/minisap" target="_blank" rel="noopener noreferrer">preview, evaluation, and developer versions of SAP NetWeaver</a> refer to following locations, depending on your system name:</p><ul><li>&quot;A4H - SAP NetWeaver AS ABAP 7.4 and above (Linux / SAP HANA)&quot; - <code>/usr/sap/A4H/sys/profile/DEFAULT.PFL</code></li><li>&quot;NPL - SAP NetWeaver 7.x&quot; - <code>/sapmnt/NPL/profile/DEFAULT.PFL</code></li></ul><p>If configured correctly, transaction <code>SMICM</code> &gt; Goto &gt; Services (<code>Shift + F1</code>) will show a green checkmark next to the HTTPS service.</p><figure><img src="`+h+'" alt="ssl_setup_services" tabindex="0" loading="lazy"><figcaption>ssl_setup_services</figcaption></figure><h3 id="sap-trust-manager" tabindex="-1"><a class="header-anchor" href="#sap-trust-manager"><span>SAP Trust Manager</span></a></h3><p>As a default, abapGit uses an anonymous client connection (<code>ANONYM - SSL Client (Anonymous)</code>). A secure connection requires that the Git server certificate is available in the certificate list. The certificate must also be valid!</p><p>First, download the server certificates to your local machine. Then import and add these certificates to your SAP system.</p><p><a href="https://help.sap.com/docs/SAP_NETWEAVER_750/280f016edb8049e998237fcbd80558e7/4c5bdb17f85640f1e10000000a42189c.html" target="_blank" rel="noopener noreferrer">Trust Manager in SAP Documentation</a></p><p>If done correctly, transaction <code>STRUST</code> will show the Git server certificates in the certificate list.</p><figure><img src="'+d+'" alt="ssl_setup_trust" tabindex="0" loading="lazy"><figcaption>ssl_setup_trust</figcaption></figure><h4 id="download-the-certificate-files" tabindex="-1"><a class="header-anchor" href="#download-the-certificate-files"><span>Download the Certificate Files</span></a></h4><h5 id="option-a-chrome" tabindex="-1"><a class="header-anchor" href="#option-a-chrome"><span>Option A - Chrome</span></a></h5><ol><li>Using Google Chrome to go to <a href="https://github.com" target="_blank" rel="noopener noreferrer">https://github.com</a></li><li>Click on the lock icon near the address bar, then click on &quot;Connection is secure&quot;</li><li>On the Security tab, click on &quot;Certificate is valid&quot;</li><li>Go to the &quot;Details&quot; tab and select &quot;Export...&quot; to download the certificate to a file</li><li>In the &quot;Certification hierarchy&quot; box, select the parent node of the GitHub certificate and export it as well. Repeat the same with the root node.</li></ol><figure><img src="'+m+'" alt="ssl_setup_chrome" tabindex="0" loading="lazy"><figcaption>ssl_setup_chrome</figcaption></figure><h5 id="option-b-firefox" tabindex="-1"><a class="header-anchor" href="#option-b-firefox"><span>Option B - Firefox</span></a></h5><ol><li>Use Firefox to go to <a href="https://github.com" target="_blank" rel="noopener noreferrer">https://github.com</a></li><li>Click on the lock icon and then &quot;More Information ...&quot; and there &quot;View Certificate&quot;</li><li>Switch to the Details Tab, choose the first certificate of the hierarchy and click Export</li><li>Do the same for the next certificate in the hierarchy</li></ol><h5 id="option-c-safari" tabindex="-1"><a class="header-anchor" href="#option-c-safari"><span>Option C - Safari</span></a></h5><ol><li>Use Safari to go to <a href="https://github.com" target="_blank" rel="noopener noreferrer">https://github.com</a></li><li>Click on the lock icon and then &quot;View Certificate&quot;</li><li>In the certificate hierarchy, select the root certificate</li><li>Holding down the Option key (⌥), drag the large certificate icon into a text editor</li><li>Save the document as a <code>.PEM</code> file</li></ol><h5 id="option-d-manual" tabindex="-1"><a class="header-anchor" href="#option-d-manual"><span>Option D - Manual</span></a></h5><ol><li>Goto GitHub, find the certificate that it is using</li><li>Download the certificate from <a href="https://www.digicert.com/digicert-root-certificates.htm" target="_blank" rel="noopener noreferrer">https://www.digicert.com/digicert-root-certificates.htm</a></li></ol><h4 id="install-the-certificate-files" tabindex="-1"><a class="header-anchor" href="#install-the-certificate-files"><span>Install the Certificate Files</span></a></h4><ol><li>Install the certificates in transaction <code>STRUST</code>:</li><li>Click on the Change button</li><li>Open the &quot;SSL client Client SSL Client (Anonymous)&quot; folder</li><li>In the third box called &quot;Certificate&quot;, click on the bottom-left button &quot;Import certificate&quot; to bring the certificate into the system</li><li>Select &quot;Add to certificate list&quot;</li><li>Repeat the process for all downloaded certificates</li><li>Save</li></ol><h3 id="abapgit-settings" tabindex="-1"><a class="header-anchor" href="#abapgit-settings"><span>abapGit Settings</span></a></h3><p>If your SAP system is behind a firewall, it might require an HTTP proxy to access the Git server. If this is the case, maintain the proxy host, port, and authentication (user/password) in your global abapGit settings.</p><figure><img src="'+g+'" alt="ssl_setup_proxy" tabindex="0" loading="lazy"><figcaption>ssl_setup_proxy</figcaption></figure><h3 id="testing-the-connection" tabindex="-1"><a class="header-anchor" href="#testing-the-connection"><span>Testing the Connection</span></a></h3>',39)),t("p",null,[e[4]||(e[4]=i("Report ")),s(o,{to:"/user-guide/setup/ssl-test.html"},{default:n(()=>e[3]||(e[3]=[i("ZABAPGIT_TEST_SSL")])),_:1}),e[5]||(e[5]=i(" can be used to verify that the connection works."))]),e[15]||(e[15]=r('<h3 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting"><span>Troubleshooting</span></a></h3><div class="hint-container info"><p class="hint-container-title">Info</p><p>The following SAP Notes contain the details for setup and troubleshooting:</p><ul><li>SAP Note <a href="https://me.sap.com/notes/510007" target="_blank" rel="noopener noreferrer">510007</a> - Additional considerations about setting up SSL on Application Server ABAP</li><li>SAP Note <a href="https://me.sap.com/notes/2368112" target="_blank" rel="noopener noreferrer">2368112</a> - Outgoing HTTPS connection does not work in AS ABAP</li></ul></div><p>Connection issues typically lead to &quot;Access to resource forbidden&quot; (HTTP 403) or &quot;Misdirected Request&quot; (HTTP 421) errors.</p><ol><li>Go to transaction <code>SMICM</code></li><li>Check that ICM is in status &quot;running&quot; (green light)</li><li>Select Goto &gt; Services and check that the HTTPS service is active (green checkmark)</li><li>Select Goto &gt; Trace Files &gt; Display All to view the ICM trace (<code>dev_icm</code>)</li></ol><ul><li>Check for any errors</li><li>Find the &quot;SSL Initialization&quot; section and check if it ends with &quot;Success - SapCryptoLib SSL ready!&quot;</li><li>Compare the listed SSL settings to the recommended settings of SAP Note 51007 (and mentioned above)</li></ul><ol start="5"><li>Go to transaction <code>STRUST</code></li><li>Select &quot;SSL client SSL Client (Anonymous)&quot;</li><li>Verify that the required Git server certificates are included in the certificate list</li><li>Check that all required certificates are valid</li></ol><p>The following blog posts on the SAP Community Network might be helpful:</p><ul><li><a href="https://scn.sap.com/people/jens.gleichmann/blog/2008/10/31/calling-webservices-from-abap-via-httpsssl-with-pfx-certificates" target="_blank" rel="noopener noreferrer">Calling WebServices from ABAP via HTTPS/SSL with pfx certificates</a></li><li><a href="https://scn.sap.com/people/thomas.jung/blog/2004/11/17/bsp-a-developers-journal-part-xiv--consuming-webservices-with-abap" target="_blank" rel="noopener noreferrer">BSP a Developer’s Journal Part XIV – Consuming WebServices with ABAP</a></li></ul><div class="hint-container info"><p class="hint-container-title">Info</p><p>There might be user exits in play that modify the default connection behavior (see section below). Check which exits are implemented and what values they return!</p></div><h3 id="notes" tabindex="-1"><a class="header-anchor" href="#notes"><span>Notes</span></a></h3><h4 id="actions-requiring-authentication" tabindex="-1"><a class="header-anchor" href="#actions-requiring-authentication"><span>Actions Requiring Authentication</span></a></h4><p>To perform operations that require authentication, like e.g. cloning a <strong>private repository</strong> or <strong>pushing to any GitHub repository</strong>, you need to install not only the certificates for github.com but also for <a href="https://api.github.com" target="_blank" rel="noopener noreferrer">https://<strong>api</strong>.github.com</a>. Repeat the download and STRUST import steps for the API server as described in the sections above accordingly (see also <a href="https://github.com/abapGit/abapGit/issues/1491" target="_blank" rel="noopener noreferrer">#1491</a> and <a href="https://github.com/abapGit/abapGit/issues/6768" target="_blank" rel="noopener noreferrer">#6768</a>)</p><h3 id="user-exits" tabindex="-1"><a class="header-anchor" href="#user-exits"><span>User Exits</span></a></h3><p>The following exits are available to customize certain aspects of connection to the Git server using ABAP:</p><ul><li>Using a RFC connection instead of HTTP</li><li>Defining proxy host and port (if abapGit settings are not sufficient)</li><li>Defining the SSL certificate section (if other than <code>ANONYM</code>)</li><li>Identifying local systems and setting logon tickets</li><li>Changing the used HTTP protocol</li></ul>',15)),t("p",null,[e[7]||(e[7]=i("See ")),s(o,{to:"/user-guide/reference/exits.html"},{default:n(()=>e[6]||(e[6]=[i("User Exits")])),_:1}),e[8]||(e[8]=i(" for more details."))]),e[16]||(e[16]=t("h4",{id:"accessing-github",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#accessing-github"},[t("span",null,"Accessing GitHub")])],-1)),e[17]||(e[17]=t("p",null,[i("On "),t("a",{href:"https://githubengineering.com/crypto-removal-notice/",target:"_blank",rel:"noopener noreferrer"},"2018-02-22"),i(", GitHub deprecated weak TLS connections. See "),t("a",{href:"https://me.sap.com/notes/510007",target:"_blank",rel:"noopener noreferrer"},"SAP Note 510007"),i(" for details on required profile parameter changes.")],-1))])}const T=a(f,[["render",b],["__file","ssl-setup.html.vue"]]),A=JSON.parse('{"path":"/user-guide/setup/ssl-setup.html","title":"SSL Setup","lang":"en-US","frontmatter":{"title":"SSL Setup","category":"setup","order":20,"description":"Overview In general, Git servers require secure connections. Therefore, abapGit uses secure HTTPS connections to access Git servers. Note: Using unsecured HTTP connections is po...","head":[["meta",{"property":"og:url","content":"https://docs.abapgit.org/user-guide/setup/ssl-setup.html"}],["meta",{"property":"og:site_name","content":"abapGit Docs"}],["meta",{"property":"og:title","content":"SSL Setup"}],["meta",{"property":"og:description","content":"Overview In general, Git servers require secure connections. Therefore, abapGit uses secure HTTPS connections to access Git servers. Note: Using unsecured HTTP connections is po..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://docs.abapgit.org/img/ssl_setup_cryptolib.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-10-30T07:17:07.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-30T07:17:07.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SSL Setup\\",\\"image\\":[\\"https://docs.abapgit.org/img/ssl_setup_cryptolib.png\\",\\"https://docs.abapgit.org/img/ssl_setup_services.png\\",\\"https://docs.abapgit.org/img/ssl_setup_trust.png\\",\\"https://docs.abapgit.org/img/ssl_setup_chrome.gif\\",\\"https://docs.abapgit.org/img/ssl_setup_proxy.png\\"],\\"dateModified\\":\\"2024-10-30T07:17:07.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"abapGit\\",\\"url\\":\\"https://github.com/abapGit\\"}]}"]]},"headers":[{"level":2,"title":"Overview","slug":"overview","link":"#overview","children":[{"level":3,"title":"SAP Crypto Library","slug":"sap-crypto-library","link":"#sap-crypto-library","children":[]},{"level":3,"title":"SAP System Profile","slug":"sap-system-profile","link":"#sap-system-profile","children":[]},{"level":3,"title":"SAP Trust Manager","slug":"sap-trust-manager","link":"#sap-trust-manager","children":[]},{"level":3,"title":"abapGit Settings","slug":"abapgit-settings","link":"#abapgit-settings","children":[]},{"level":3,"title":"Testing the Connection","slug":"testing-the-connection","link":"#testing-the-connection","children":[]},{"level":3,"title":"Troubleshooting","slug":"troubleshooting","link":"#troubleshooting","children":[]},{"level":3,"title":"Notes","slug":"notes","link":"#notes","children":[]},{"level":3,"title":"User Exits","slug":"user-exits","link":"#user-exits","children":[]}]}],"git":{"createdTime":1494350388000,"updatedTime":1730272627000,"contributors":[{"name":"Marc Bernard","username":"Marc Bernard","email":"59966492+mbtools@users.noreply.github.com","commits":10,"url":"https://github.com/Marc Bernard"},{"name":"Christian Günter","username":"Christian Günter","email":"christianguenter@googlemail.com","commits":1,"url":"https://github.com/Christian Günter"},{"name":"Ludwig Stockbauer-Muhr","username":"Ludwig Stockbauer-Muhr","email":"35834861+stockbal@users.noreply.github.com","commits":1,"url":"https://github.com/Ludwig Stockbauer-Muhr"},{"name":"Lars Hvam","username":"Lars Hvam","email":"larshp@hotmail.com","commits":11,"url":"https://github.com/Lars Hvam"},{"name":"Andreas Goeb","username":"Andreas Goeb","email":"agoeb@posteo.de","commits":1,"url":"https://github.com/Andreas Goeb"},{"name":"alex-salnikov","username":"alex-salnikov","email":"alexander.salnikov@gmail.com","commits":1,"url":"https://github.com/alex-salnikov"},{"name":"Jaime Rodriguez Capote","username":"Jaime Rodriguez Capote","email":"jrodriguez@resultoconsultoria.com","commits":1,"url":"https://github.com/Jaime Rodriguez Capote"},{"name":"hf-kklein","username":"hf-kklein","email":"konstantin.klein@hochfrequenz.de","commits":1,"url":"https://github.com/hf-kklein"},{"name":"Frederik Hudák","username":"Frederik Hudák","email":"frederik.hudak@sap.com","commits":1,"url":"https://github.com/Frederik Hudák"},{"name":"larshp","username":"larshp","email":"larshp@hotmail.com","commits":5,"url":"https://github.com/larshp"}]},"readingTime":{"minutes":4.3,"words":1291},"filePathRelative":"user-guide/setup/ssl-setup.md","localizedDate":"May 9, 2017","autoDesc":true,"excerpt":"<h2>Overview</h2>\\n<p>In general, Git servers require secure connections. Therefore, abapGit uses secure HTTPS connections to access Git servers.</p>\\n<p>Note: Using unsecured HTTP connections is possible, but it is strongly discouraged since the content of your repository will become visible on the network.</p>"}');export{T as comp,A as data};
