import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as i,o as r}from"./app-Baw2R2NJ.js";const s="/img/ZABAPGIT_CI_selection_screen.png",o="/img/ZABAPGIT_CI_result.png",p="/img/ZABAPGIT_CI_JOB_SCHEDULER.png",n="/img/STMS.png",c={};function l(h,e){return r(),a("div",null,e[0]||(e[0]=[i('<h1 id="abapgit-ci-tests" tabindex="-1"><a class="header-anchor" href="#abapgit-ci-tests"><span>abapGit CI Tests</span></a></h1><p>Results from latest CI run: <a href="https://ci.abapgit.org" target="_blank" rel="noopener noreferrer">https://ci.abapgit.org</a></p><p>Repo <a href="https://github.com/abapGit/CI" target="_blank" rel="noopener noreferrer">abapGit CI</a> provides basic continuous integration capabilities for abapGit. The repository aims to test the serialization and deserialization of object types, as these cannot be unit-tested properly.</p><p>The CI process fetches abapGit test repos from <a href="https://github.com/abapGit-tests" target="_blank" rel="noopener noreferrer">abapGit Tests</a>. Then for each repository, the following steps are executed:</p><ul><li>create a package (if needed)</li><li>clone</li><li>pull</li><li>syntax check</li><li>object check</li><li>create transport request</li><li>purge (uninstall)</li><li>delete transport request</li><li>check for leftovers</li></ul><p>Additionally, a set of generic tests is performed checking the latest abapGit build.</p><p>If there is any error in these steps abapGit CI will indicate that.</p><p>Run report <code>ZABAPGIT_CI_UPDATE_ABAPGIT</code> to update the abapGit repo.</p><p>Run report <code>ZABAPGIT_CI_UPDATE_ABAPGIT_CI</code> to update the abapGit CI repo.</p><p>There are currently three possibilities to run abapGit CI:</p><h2 id="_1-adhoc-ci-with-report-zabapgit-ci" tabindex="-1"><a class="header-anchor" href="#_1-adhoc-ci-with-report-zabapgit-ci"><span>1. Adhoc CI with report <code>ZABAPGIT_CI</code></span></a></h2><p>Selection screen:</p><figure><img src="'+s+'" alt="abapGit CI selection screen" tabindex="0" loading="lazy"><figcaption>abapGit CI selection screen</figcaption></figure><p>Result list:</p><figure><img src="'+o+'" alt="abapGit CI results" tabindex="0" loading="lazy"><figcaption>abapGit CI results</figcaption></figure><h2 id="_2-rest-api" tabindex="-1"><a class="header-anchor" href="#_2-rest-api"><span>2. REST API</span></a></h2><p><code>POST /sap/zabapgit_ci/run</code></p><p><a href="/assets/example/response.json">response.json</a></p><h2 id="_3-schedule-job-sequence-with-report-zabapgit-ci-job-scheduler" tabindex="-1"><a class="header-anchor" href="#_3-schedule-job-sequence-with-report-zabapgit-ci-job-scheduler"><span>3. Schedule job sequence with report <code>ZABAPGIT_CI_JOB_SCHEDULER</code></span></a></h2><p>A job sequence is created with</p><ol><li>Update abapGit repo</li><li>Update abapGit CI repo</li><li>Run abapGit CI</li></ol><figure><img src="'+p+'" alt="abapGit CI job scheduler" tabindex="0" loading="lazy"><figcaption>abapGit CI job scheduler</figcaption></figure><h2 id="check-transportable-packages" tabindex="-1"><a class="header-anchor" href="#check-transportable-packages"><span>Check transportable packages</span></a></h2><p>Optionally you can also let abapGit CI create the repositories in transportable packages. You need to activate the checkbox in the selection screen and specify the transport layer. Then the pull and purge actions will each get recorded into a transport request per repository. These get released and their content is checked to ensure it matches the objects in the repository.</p><p>To set up a suitable transport landscape on the AS ABAP Developer Edition you need to create a new virtual system in STMS (for example <code>EXP</code>, <code>Virtual export system</code>). This serves as a dummy export target for transport requests. Next, you need to create a new transport layer (for example <code>ZEXP</code>) and connect the current system and the virtual system with it. Then save and activate the configuration.</p><figure><img src="'+n+'" alt="STMS transports landscape" tabindex="0" loading="lazy"><figcaption>STMS transports landscape</figcaption></figure><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2><p>There are a few prerequisites for running the CI test suite:</p><ul><li>abapGit developer version must be installed</li><li>SAP Basis 7.50 or higher</li><li>Tests are hosted at https://github.com/abapGit-tests</li><li>Test objects shall be included in SAP Basis 7.50 (Exception: the main object type is only available in higher releases)</li><li>Test objects from SAP ERP or industry solutions shall be avoided (Exception: the main object type is only available in ERP)</li></ul>',29)]))}const u=t(c,[["render",l],["__file","ci.html.vue"]]),b=JSON.parse('{"path":"/development-guide/testing/ci.html","title":"CI Tests","lang":"en-US","frontmatter":{"title":"CI Tests","category":"testing","order":30,"description":"abapGit CI Tests Results from latest CI run: https://ci.abapgit.org Repo abapGit CI provides basic continuous integration capabilities for abapGit. The repository aims to test t...","head":[["meta",{"property":"og:url","content":"https://docs.abapgit.org/development-guide/testing/ci.html"}],["meta",{"property":"og:site_name","content":"abapGit Docs"}],["meta",{"property":"og:title","content":"CI Tests"}],["meta",{"property":"og:description","content":"abapGit CI Tests Results from latest CI run: https://ci.abapgit.org Repo abapGit CI provides basic continuous integration capabilities for abapGit. The repository aims to test t..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://docs.abapgit.org/img/ZABAPGIT_CI_selection_screen.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-10-30T12:53:56.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-30T12:53:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"CI Tests\\",\\"image\\":[\\"https://docs.abapgit.org/img/ZABAPGIT_CI_selection_screen.png\\",\\"https://docs.abapgit.org/img/ZABAPGIT_CI_result.png\\",\\"https://docs.abapgit.org/img/ZABAPGIT_CI_JOB_SCHEDULER.png\\",\\"https://docs.abapgit.org/img/STMS.png\\"],\\"dateModified\\":\\"2023-10-30T12:53:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"abapGit\\",\\"url\\":\\"https://github.com/abapGit\\"}]}"]]},"headers":[{"level":2,"title":"1. Adhoc CI with report ZABAPGIT_CI","slug":"_1-adhoc-ci-with-report-zabapgit-ci","link":"#_1-adhoc-ci-with-report-zabapgit-ci","children":[]},{"level":2,"title":"2. REST API","slug":"_2-rest-api","link":"#_2-rest-api","children":[]},{"level":2,"title":"3. Schedule job sequence with report ZABAPGIT_CI_JOB_SCHEDULER","slug":"_3-schedule-job-sequence-with-report-zabapgit-ci-job-scheduler","link":"#_3-schedule-job-sequence-with-report-zabapgit-ci-job-scheduler","children":[]},{"level":2,"title":"Check transportable packages","slug":"check-transportable-packages","link":"#check-transportable-packages","children":[]},{"level":2,"title":"Prerequisites","slug":"prerequisites","link":"#prerequisites","children":[]}],"git":{"createdTime":1622965535000,"updatedTime":1698670436000,"contributors":[{"name":"Marc Bernard","username":"Marc Bernard","email":"59966492+mbtools@users.noreply.github.com","commits":5,"url":"https://github.com/Marc Bernard"},{"name":"Ludwig Stockbauer-Muhr","username":"Ludwig Stockbauer-Muhr","email":"35834861+stockbal@users.noreply.github.com","commits":1,"url":"https://github.com/Ludwig Stockbauer-Muhr"},{"name":"Gregor Wolf","username":"Gregor Wolf","email":"gregor.wolf@gmail.com","commits":1,"url":"https://github.com/Gregor Wolf"},{"name":"Albert Mink","username":"Albert Mink","email":"albert.mink@sap.com","commits":1,"url":"https://github.com/Albert Mink"},{"name":"Lars Hvam","username":"Lars Hvam","email":"larshp@hotmail.com","commits":1,"url":"https://github.com/Lars Hvam"}]},"readingTime":{"minutes":1.37,"words":412},"filePathRelative":"development-guide/testing/ci.md","localizedDate":"June 6, 2021","autoDesc":true,"excerpt":"\\n<p>Results from latest CI run: <a href=\\"https://ci.abapgit.org\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://ci.abapgit.org</a></p>\\n<p>Repo <a href=\\"https://github.com/abapGit/CI\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">abapGit CI</a> provides basic continuous integration capabilities for abapGit. The repository aims to test the serialization and deserialization of object types, as these cannot be unit-tested properly.</p>"}');export{u as comp,b as data};
