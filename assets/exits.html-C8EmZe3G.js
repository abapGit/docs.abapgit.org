import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as s,b as a,d as t,e as o,f as l,r as p,o as h}from"./app-CtV0rNP9.js";const c="/img/deployment_diff_difference_sample.png",d={};function u(g,e){const i=p("RouteLink");return h(),n("div",null,[e[7]||(e[7]=s(`<p>abapGit contains predefined user exits which can be used to modify the standard behavior.</p><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview"><span>Overview</span></a></h2><p>If the standalone version is installed, create include <code>ZABAPGIT_USER_EXIT</code> and add local class <code>ZCL_ABAPGIT_USER_EXIT</code> implementing <code>ZIF_ABAPGIT_EXIT</code>.</p><p>If the development version is installed create global class <code>ZCL_ABAPGIT_USER_EXIT</code> implementing <code>ZIF_ABAPGIT_EXIT</code>.</p><p>To support both versions with the same code, proceed as follows:</p><ol><li>Implement <code>ZCL_ABAPGIT_USER_EXIT</code> as a global class and test with the developer version.</li><li>Copy &amp; paste the complete code of <code>ZCL_ABAPGIT_USER_EXIT</code> into include <code>ZABAPGIT_USER_EXIT</code> and change the beginning to a local class.</li></ol><div class="language-abap line-numbers-mode" data-highlighter="shiki" data-ext="abap" data-title="abap" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CLASS</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> zcl_abapgit_user_exit</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DEFINITION</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  FINAL</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  CREATE PUBLIC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Activate the include.</li></ol><p>In either case, add the object in a package different from the main abapGit code.</p><p>The list of user exits can change at any time, make sure to syntax check user exits after updating abapGit.</p><h2 id="exits" tabindex="-1"><a class="header-anchor" href="#exits"><span>Exits</span></a></h2><h3 id="adjust-display-commit-url" tabindex="-1"><a class="header-anchor" href="#adjust-display-commit-url"><span>ADJUST_DISPLAY_COMMIT_URL</span></a></h3><p>Can be used to set the URL to display a commit. There are default implementations for some providers:</p><table><thead><tr><th>Provider</th><th>Repo URL</th><th>Show Commit URL</th></tr></thead><tbody><tr><td>github</td><td><code>http(s)://github.com/&lt;user&gt;/&lt;repo&gt;.git</code></td><td><code>http(s)://github.com/&lt;user&gt;/&lt;repo&gt;/commit/&lt;sha1&gt;</code></td></tr><tr><td>bitbucket</td><td><code>http(s)://bitbucket.org/&lt;user&gt;/&lt;repo&gt;.git</code></td><td><code>http(s)://bitbucket.org/&lt;user&gt;/&lt;repo&gt;/commits/&lt;sha1&gt;</code></td></tr><tr><td>gitlab</td><td><code>http(s)://gitlab.com/&lt;user&gt;/&lt;repo&gt;.git</code></td><td><code>http(s)://gitlab.com/&lt;user&gt;/&lt;repo&gt;/-/commit/&lt;sha1&gt;</code></td></tr></tbody></table><h3 id="adjust-display-filename" tabindex="-1"><a class="header-anchor" href="#adjust-display-filename"><span>ADJUST_DISPLAY_FILENAME</span></a></h3><p>This exit can be used to change the path and filename displayed in the repository view (see <a href="https://github.com/abapGit/abapGit/issues/5185" target="_blank" rel="noopener noreferrer">#5185</a>). For example, you can implement a logic to shorten the path avoiding the output of repetitive details.</p><h3 id="allow-sap-objects" tabindex="-1"><a class="header-anchor" href="#allow-sap-objects"><span>ALLOW_SAP_OBJECTS</span></a></h3><p>Force allowing serialization of SAP objects.</p><h3 id="change-local-host" tabindex="-1"><a class="header-anchor" href="#change-local-host"><span>CHANGE_LOCAL_HOST</span></a></h3><p>If the hostnames are not properly configured, this exit can be used to modify the settings. This is especially useful when running abapGitServer on the local system.</p><h3 id="change-max-parallel-processes" tabindex="-1"><a class="header-anchor" href="#change-max-parallel-processes"><span>CHANGE_MAX_PARALLEL_PROCESSES</span></a></h3><p>Adjust the determined maximum number of parallel processes used in parallel serialization. Also see <a href="#change_rfc_server_group">CHANGE_RFC_SERVER_GROUP</a>.</p><h3 id="change-proxy-authentication" tabindex="-1"><a class="header-anchor" href="#change-proxy-authentication"><span>CHANGE_PROXY_AUTHENTICATION</span></a></h3><p>Determine based on the repository URL if authentication is required when accessing the proxy.</p><h3 id="change-proxy-port" tabindex="-1"><a class="header-anchor" href="#change-proxy-port"><span>CHANGE_PROXY_PORT</span></a></h3><p>Determine the proxy port from the repository URL.</p><h3 id="change-proxy-url" tabindex="-1"><a class="header-anchor" href="#change-proxy-url"><span>CHANGE_PROXY_URL</span></a></h3><p>Determine the proxy URL from the repository URL.</p><h3 id="change-rfc-server-group" tabindex="-1"><a class="header-anchor" href="#change-rfc-server-group"><span>CHANGE_RFC_SERVER_GROUP</span></a></h3>`,29)),a("p",null,[e[1]||(e[1]=t("Adjust the RFC Server Group used for parallel serialization (default ")),e[2]||(e[2]=a("code",null,"parallel_generators",-1)),e[3]||(e[3]=t("). The group may be cleared to use parallelization without a server group. Then ")),e[4]||(e[4]=a("a",{href:"#change_max_parallel_processes"},"CHANGE_MAX_PARALLEL_PROCESSES",-1)),e[5]||(e[5]=t(" needs to be implemented as well. Also see ")),o(i,{to:"/user-guide/setup/settings-personal.html#developer-version"},{default:l(()=>e[0]||(e[0]=[t("System Resources")])),_:1}),e[6]||(e[6]=t("."))]),e[8]||(e[8]=s(`<h3 id="change-supported-data-objects" tabindex="-1"><a class="header-anchor" href="#change-supported-data-objects"><span>CHANGE_SUPPORTED_DATA_OBJECTS</span></a></h3><p>Add or remove supported data objects. You can add single tables, for example, <code>TABU, RSADMIN</code>, or a set of tables, for example <code>TABU, T009*</code>.</p><h3 id="change-supported-object-types" tabindex="-1"><a class="header-anchor" href="#change-supported-object-types"><span>CHANGE_SUPPORTED_OBJECT_TYPES</span></a></h3><p>Add or remove supported object types</p><h3 id="change-tadir" tabindex="-1"><a class="header-anchor" href="#change-tadir"><span>CHANGE_TADIR</span></a></h3><p>Can be used to skip certain objects, or force a different object setup than currently in TADIR (<a href="https://gist.github.com/larshp/cca0ce0ba65efcde5dfcae416b0484f7" target="_blank" rel="noopener noreferrer">Example</a>).</p><h3 id="create-http-client" tabindex="-1"><a class="header-anchor" href="#create-http-client"><span>CREATE_HTTP_CLIENT</span></a></h3><p>Store username and password in RFC connection setup (see <a href="https://github.com/abapGit/abapGit/issues/1841" target="_blank" rel="noopener noreferrer">#1841</a>).</p><h3 id="custom-serialize-abap-clif" tabindex="-1"><a class="header-anchor" href="#custom-serialize-abap-clif"><span>CUSTOM_SERIALIZE_ABAP_CLIF</span></a></h3><p>Allows for a custom serializer to be used for global classes&#39; CLIF sources. See <a href="https://github.com/abapGit/abapGit/issues/2321" target="_blank" rel="noopener noreferrer">#2321</a> and <a href="https://github.com/abapGit/abapGit/pull/2491" target="_blank" rel="noopener noreferrer">#2491</a> for use cases. This <a href="https://gist.github.com/fabianlupa/999c8165b89131608b05cd371529fef5" target="_blank" rel="noopener noreferrer">example implementation</a> forces the old class serializer to be used for specific packages.</p><p>As of <a href="https://github.com/abapGit/abapGit/pull/4953" target="_blank" rel="noopener noreferrer">#4953</a>, the exit offers a post-processing option. First, the exit is called with the optional parameter <code>it_source</code> set to initial. If you do not return any serialization (<code>rt_source</code> is initial), then abapGit will serialize the object as usual and call the exit a second time. This time <code>it_source</code> contains the complete source and can be modified in the exit as required. To use this option, use the following code at the beginning of the exit:</p><div class="language-abap line-numbers-mode" data-highlighter="shiki" data-ext="abap" data-title="abap" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot; Ignore the first call of exit</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">IF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it_source </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">IS</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INITIAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  RETURN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ENDIF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="deserialize-postprocess" tabindex="-1"><a class="header-anchor" href="#deserialize-postprocess"><span>DESERIALIZE_POSTPROCESS</span></a></h3><p>Can be used for any postprocessing operation for deserialized objects. Since it is a postprocessing step, only logs can be added to <code>ii_log</code> and one should not terminate the process by raising an exception, which may lead to inconsistencies.</p><h3 id="determine-transport-request" tabindex="-1"><a class="header-anchor" href="#determine-transport-request"><span>DETERMINE_TRANSPORT_REQUEST</span></a></h3><p>Set a transport request per repository. If set, no transport request popup appears and the transport is used for pull/delete (see <a href="https://github.com/abapGit/abapGit/pull/5916" target="_blank" rel="noopener noreferrer">#5916</a>).</p><h3 id="enhance-repo-toolbar" tabindex="-1"><a class="header-anchor" href="#enhance-repo-toolbar"><span>ENHANCE_REPO_TOOLBAR</span></a></h3><p>With this exit, you can extend the toolbar with your own menu options. Currently, the exit is active for repository settings so you may define your own settings (see <a href="https://github.com/abapGit/abapGit/pull/6249" target="_blank" rel="noopener noreferrer">#6249</a>).</p><h3 id="get-ci-tests" tabindex="-1"><a class="header-anchor" href="#get-ci-tests"><span>GET_CI_TESTS</span></a></h3><p>Add your own repositories to run a complete CI cycle (clone, pull, check, delete) when executing unit tests for object serializer classes (see <a href="https://github.com/abapGit/abapGit/pull/3993" target="_blank" rel="noopener noreferrer">#3993</a>).</p><h3 id="get-ssl-id" tabindex="-1"><a class="header-anchor" href="#get-ssl-id"><span>GET_SSL_ID</span></a></h3><p>Possibility to change the default <code>ANONYM</code> SSL ID to something system-specific.</p><h3 id="http-client" tabindex="-1"><a class="header-anchor" href="#http-client"><span>HTTP_CLIENT</span></a></h3><p>Can be used for setting logon tickets eg. in connection with abapGitServer connections between SAP systems (<a href="https://gist.github.com/larshp/71609852a79aa1e877f8c4020d18feac" target="_blank" rel="noopener noreferrer">Example</a>). Can be used to change HTTP protocol. E.g. to switch from HTTP/1 to HTTP/1.1 (<a href="https://gist.github.com/christianguenter2/3592836a80cd00bdf3c9e4424d5aa55d" target="_blank" rel="noopener noreferrer">Example</a>).</p><h3 id="on-event" tabindex="-1"><a class="header-anchor" href="#on-event"><span>ON_EVENT</span></a></h3><p>This exit allows you to extend abapGit with new features that are not suitable for abapGit itself. For example, you can link to a new page from a wall message. Another use case is redirecting menu items to a custom page rather than standard abapGit, for example using a company-specific solution to replace &quot;Advanced &gt; Run Code Inspector&quot; (see <a href="https://github.com/abapGit/abapGit/issues/4722" target="_blank" rel="noopener noreferrer">#4722</a>).</p><h3 id="pre-calculate-repo-status" tabindex="-1"><a class="header-anchor" href="#pre-calculate-repo-status"><span>PRE_CALCULATE_REPO_STATUS</span></a></h3><p>Can be used to modify local and remote files before calculating diff status. Useful to remove diffs that are caused by deployment between different system versions (see also <a href="https://github.com/sbcgua/abapgit_xml_stripper_plugin" target="_blank" rel="noopener noreferrer">abapgit xml stripper plugin</a>).</p><figure><img src="`+c+'" alt="diff sample" tabindex="0" loading="lazy"><figcaption>diff sample</figcaption></figure><p>The exit also receives a repo metadata snapshot (<code>zif_abapgit_persistence=&gt;ty_repo</code>) to identify the repo and its attributes in the current system (e.g. package). This can be used to enable/disable the exit for specific repos.</p><h3 id="serialize-postprocessing" tabindex="-1"><a class="header-anchor" href="#serialize-postprocessing"><span>SERIALIZE_POSTPROCESSING</span></a></h3><p>This exit is called at the end of the serialize process and gives an opportunity to change the content of the serialized files (see <a href="https://github.com/abapGit/abapGit/issues/5194" target="_blank" rel="noopener noreferrer">#5194</a>).</p><h3 id="validate-before-push" tabindex="-1"><a class="header-anchor" href="#validate-before-push"><span>VALIDATE_BEFORE_PUSH</span></a></h3><p>Perform custom validations just before pushing into remote while being on the &quot;Commit Message&quot; screen (see <a href="https://github.com/abapGit/abapGit/pull/6013" target="_blank" rel="noopener noreferrer">#6013</a>).</p><h3 id="wall-message-list" tabindex="-1"><a class="header-anchor" href="#wall-message-list"><span>WALL_MESSAGE_LIST</span></a></h3><p>Can be used to add a message at the list level (repository list, see <a href="https://github.com/abapGit/abapGit/issues/4653" target="_blank" rel="noopener noreferrer">#4653</a>).</p><h3 id="wall-message-repo" tabindex="-1"><a class="header-anchor" href="#wall-message-repo"><span>WALL_MESSAGE_REPO</span></a></h3><p>Can be used to add a message at the repo level (repository view, see <a href="https://github.com/abapGit/abapGit/issues/4653" target="_blank" rel="noopener noreferrer">#4653</a>).</p><p><a href="https://gist.github.com/larshp/8e0a82c8a43d08f69cd49b8d807fbe83" target="_blank" rel="noopener noreferrer">Example: encourage adding topic to repositories</a></p>',39))])}const f=r(d,[["render",u],["__file","exits.html.vue"]]),_=JSON.parse('{"path":"/user-guide/reference/exits.html","title":"User Exits","lang":"en-US","frontmatter":{"title":"User Exits","category":"reference","order":40,"description":"abapGit contains predefined user exits which can be used to modify the standard behavior. Overview If the standalone version is installed, create include ZABAPGIT_USER_EXIT and ...","head":[["meta",{"property":"og:url","content":"https://docs.abapgit.org/user-guide/reference/exits.html"}],["meta",{"property":"og:site_name","content":"abapGit Docs"}],["meta",{"property":"og:title","content":"User Exits"}],["meta",{"property":"og:description","content":"abapGit contains predefined user exits which can be used to modify the standard behavior. Overview If the standalone version is installed, create include ZABAPGIT_USER_EXIT and ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://docs.abapgit.org/img/deployment_diff_difference_sample.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-07T04:35:23.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-07T04:35:23.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"User Exits\\",\\"image\\":[\\"https://docs.abapgit.org/img/deployment_diff_difference_sample.png\\"],\\"dateModified\\":\\"2024-06-07T04:35:23.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"abapGit\\",\\"url\\":\\"https://github.com/abapGit\\"}]}"]]},"headers":[{"level":2,"title":"Overview","slug":"overview","link":"#overview","children":[]},{"level":2,"title":"Exits","slug":"exits","link":"#exits","children":[{"level":3,"title":"ADJUST_DISPLAY_COMMIT_URL","slug":"adjust-display-commit-url","link":"#adjust-display-commit-url","children":[]},{"level":3,"title":"ADJUST_DISPLAY_FILENAME","slug":"adjust-display-filename","link":"#adjust-display-filename","children":[]},{"level":3,"title":"ALLOW_SAP_OBJECTS","slug":"allow-sap-objects","link":"#allow-sap-objects","children":[]},{"level":3,"title":"CHANGE_LOCAL_HOST","slug":"change-local-host","link":"#change-local-host","children":[]},{"level":3,"title":"CHANGE_MAX_PARALLEL_PROCESSES","slug":"change-max-parallel-processes","link":"#change-max-parallel-processes","children":[]},{"level":3,"title":"CHANGE_PROXY_AUTHENTICATION","slug":"change-proxy-authentication","link":"#change-proxy-authentication","children":[]},{"level":3,"title":"CHANGE_PROXY_PORT","slug":"change-proxy-port","link":"#change-proxy-port","children":[]},{"level":3,"title":"CHANGE_PROXY_URL","slug":"change-proxy-url","link":"#change-proxy-url","children":[]},{"level":3,"title":"CHANGE_RFC_SERVER_GROUP","slug":"change-rfc-server-group","link":"#change-rfc-server-group","children":[]},{"level":3,"title":"CHANGE_SUPPORTED_DATA_OBJECTS","slug":"change-supported-data-objects","link":"#change-supported-data-objects","children":[]},{"level":3,"title":"CHANGE_SUPPORTED_OBJECT_TYPES","slug":"change-supported-object-types","link":"#change-supported-object-types","children":[]},{"level":3,"title":"CHANGE_TADIR","slug":"change-tadir","link":"#change-tadir","children":[]},{"level":3,"title":"CREATE_HTTP_CLIENT","slug":"create-http-client","link":"#create-http-client","children":[]},{"level":3,"title":"CUSTOM_SERIALIZE_ABAP_CLIF","slug":"custom-serialize-abap-clif","link":"#custom-serialize-abap-clif","children":[]},{"level":3,"title":"DESERIALIZE_POSTPROCESS","slug":"deserialize-postprocess","link":"#deserialize-postprocess","children":[]},{"level":3,"title":"DETERMINE_TRANSPORT_REQUEST","slug":"determine-transport-request","link":"#determine-transport-request","children":[]},{"level":3,"title":"ENHANCE_REPO_TOOLBAR","slug":"enhance-repo-toolbar","link":"#enhance-repo-toolbar","children":[]},{"level":3,"title":"GET_CI_TESTS","slug":"get-ci-tests","link":"#get-ci-tests","children":[]},{"level":3,"title":"GET_SSL_ID","slug":"get-ssl-id","link":"#get-ssl-id","children":[]},{"level":3,"title":"HTTP_CLIENT","slug":"http-client","link":"#http-client","children":[]},{"level":3,"title":"ON_EVENT","slug":"on-event","link":"#on-event","children":[]},{"level":3,"title":"PRE_CALCULATE_REPO_STATUS","slug":"pre-calculate-repo-status","link":"#pre-calculate-repo-status","children":[]},{"level":3,"title":"SERIALIZE_POSTPROCESSING","slug":"serialize-postprocessing","link":"#serialize-postprocessing","children":[]},{"level":3,"title":"VALIDATE_BEFORE_PUSH","slug":"validate-before-push","link":"#validate-before-push","children":[]},{"level":3,"title":"WALL_MESSAGE_LIST","slug":"wall-message-list","link":"#wall-message-list","children":[]},{"level":3,"title":"WALL_MESSAGE_REPO","slug":"wall-message-repo","link":"#wall-message-repo","children":[]}]}],"git":{"createdTime":1537969098000,"updatedTime":1717734923000,"contributors":[{"name":"Francisco Milán","username":"Francisco Milán","email":"36721657+francisco-milan@users.noreply.github.com","commits":1,"url":"https://github.com/Francisco Milán"},{"name":"Christian Günter","username":"Christian Günter","email":"christianguenter@googlemail.com","commits":1,"url":"https://github.com/Christian Günter"},{"name":"Marc Bernard","username":"Marc Bernard","email":"59966492+mbtools@users.noreply.github.com","commits":10,"url":"https://github.com/Marc Bernard"},{"name":"Fabian Lupa","username":"Fabian Lupa","email":"fabian@lupa.dev","commits":3,"url":"https://github.com/Fabian Lupa"},{"name":"Lars Hvam","username":"Lars Hvam","email":"larshp@hotmail.com","commits":16,"url":"https://github.com/Lars Hvam"},{"name":"Ludwig Stockbauer-Muhr","username":"Ludwig Stockbauer-Muhr","email":"35834861+stockbal@users.noreply.github.com","commits":1,"url":"https://github.com/Ludwig Stockbauer-Muhr"},{"name":"Alexander Tsybulsky","username":"Alexander Tsybulsky","email":"sbcgua@users.noreply.github.com","commits":1,"url":"https://github.com/Alexander Tsybulsky"},{"name":"Domi Bigl","username":"Domi Bigl","email":"dominik.bigl@bigld.at","commits":1,"url":"https://github.com/Domi Bigl"},{"name":"Rakshith Gore","username":"Rakshith Gore","email":"58498218+goreraks@users.noreply.github.com","commits":1,"url":"https://github.com/Rakshith Gore"},{"name":"Fabian Lupa","username":"Fabian Lupa","email":"f.lupa@flaiker.com","commits":1,"url":"https://github.com/Fabian Lupa"},{"name":"larshp","username":"larshp","email":"larshp@hotmail.com","commits":1,"url":"https://github.com/larshp"}]},"readingTime":{"minutes":3.34,"words":1002},"filePathRelative":"user-guide/reference/exits.md","localizedDate":"September 26, 2018","autoDesc":true,"excerpt":"<p>abapGit contains predefined user exits which can be used to modify the standard behavior.</p>\\n<h2>Overview</h2>\\n<p>If the standalone version is installed, create include <code>ZABAPGIT_USER_EXIT</code> and add local class <code>ZCL_ABAPGIT_USER_EXIT</code> implementing <code>ZIF_ABAPGIT_EXIT</code>.</p>"}');export{f as comp,_ as data};
